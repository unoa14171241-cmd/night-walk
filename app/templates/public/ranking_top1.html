{% extends "base.html" %}

{% block title %} {{ area_info.name }}TOP1 {{ top1.cast.name_display }} - Night-Walk{% endblock %}

{% block content %}
<div style="min-height: 100vh;">
 
 <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
 <div style="background: linear-gradient(135deg, #FFD700, #FFA500); padding: var(--space-xl) var(--space-lg); text-align: center; color: #000;">
 <p class="mb-2">
 <a href="{{ url_for('public.ranking_area', area=area, year=year, month=month) }}" style="color: rgba(0,0,0,0.7);">
 â† {{ area_info.name }}ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã«æˆ»ã‚‹
 </a>
 </p>
 
 <div style="font-size: 4rem; margin-bottom: var(--space-md);"></div>
 
 <h1 style="margin: 0; font-size: 2.5rem; color: #000;">{{ area_info.name }} TOP1</h1>
 <p style="margin: var(--space-sm) 0 var(--space-lg); opacity: 0.8;">{{ year }}å¹´{{ month }}æœˆ</p>
 
 <!-- ã‚­ãƒ£ã‚¹ãƒˆç”»åƒ -->
 {% if top1.cast.image_url %}
 <div style="margin: var(--space-lg) auto;">
 <img src="{{ top1.cast.image_url }}" 
 alt="{{ top1.cast.name_display }}"
 style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 5px solid #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.3);"
 loading="lazy">
 </div>
 {% endif %}
 
 <h2 style="margin: 0; font-size: 2rem; color: #000;">{{ top1.cast.name_display }}</h2>
 
 {% if top1.cast.shop %}
 <p style="margin: var(--space-sm) 0 0; opacity: 0.8;">
 {{ top1.cast.shop.name }}
 </p>
 {% endif %}
 </div>
 
 <div class="container" style="max-width: 600px; padding: var(--space-xl) var(--space-lg);">
 
 <!-- ã‚¹ã‚³ã‚¢è©³ç´° -->
 <div class="card mb-4">
 <h3 class="mb-3 text-center"> ç²å¾—ã‚¹ã‚³ã‚¢</h3>
 
 <div class="d-flex gap-3 mb-3">
 <div class="card" style="flex: 1; text-align: center; background: var(--color-bg-elevated);">
 <div class="text-muted mb-1">ç·åˆã‚¹ã‚³ã‚¢</div>
 <div style="font-size: 1.8rem; font-weight: bold; color: var(--color-primary);">
 {{ '{:,.0f}'.format(top1.total_score) }}
 </div>
 </div>
 </div>
 
 <div class="d-flex gap-3">
 <div style="flex: 1; text-align: center; padding: var(--space-md); background: var(--color-bg-elevated); border-radius: var(--radius);">
 <div class="text-muted" style="font-size: 0.85rem;">PV</div>
 <div style="font-size: 1.3rem; font-weight: bold;">{{ '{:,}'.format(top1.pv_count) }}</div>
 </div>
 <div style="flex: 1; text-align: center; padding: var(--space-md); background: var(--color-bg-elevated); border-radius: var(--radius);">
 <div class="text-muted" style="font-size: 0.85rem;">ã‚®ãƒ•ãƒˆpt</div>
 <div style="font-size: 1.3rem; font-weight: bold;">{{ '{:,}'.format(top1.gift_points) }}</div>
 </div>
 <div style="flex: 1; text-align: center; padding: var(--space-md); background: var(--color-bg-elevated); border-radius: var(--radius);">
 <div class="text-muted" style="font-size: 0.85rem;">ã‚®ãƒ•ãƒˆæ•°</div>
 <div style="font-size: 1.3rem; font-weight: bold;">{{ '{:,}'.format(top1.gift_count) }}</div>
 </div>
 </div>
 </div>
 
 <!-- ç‰¹å…¸ -->
 {% if badge and badge.is_top1 %}
 <div class="card mb-4" style="background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,165,0,0.1));">
 <h3 class="mb-3"> TOP1ç‰¹å…¸</h3>
 <ul style="margin: 0; padding-left: var(--space-lg);">
 <li>ã‚¨ãƒªã‚¢åˆ¥ãƒˆãƒƒãƒ—ãƒãƒŠãƒ¼æ²è¼‰ï¼ˆ{{ badge.valid_from.strftime('%m/%d') }}ã€œ{{ badge.valid_until.strftime('%m/%d') }}ï¼‰</li>
 <li>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®ãƒ—ãƒ©ãƒãƒŠè£…é£¾</li>
 <li>ã‚¨ãƒªã‚¢TOP1ãƒãƒƒã‚¸</li>
 <li>ç‰¹åˆ¥ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆï¼ˆç¾å®¹ã‚°ãƒƒã‚ºç­‰ï¼‰</li>
 </ul>
 </div>
 {% endif %}
 
 <!-- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« -->
 {% if top1.cast.profile %}
 <div class="card mb-4">
 <h3 class="mb-3"> ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h3>
 <p style="margin: 0; white-space: pre-wrap;">{{ top1.cast.profile }}</p>
 </div>
 {% endif %}
 
 <!-- SNSãƒªãƒ³ã‚¯ -->
 {% if top1.cast.twitter_url or top1.cast.instagram_url %}
 <div class="card mb-4">
 <h3 class="mb-3"> SNS</h3>
 <div class="d-flex gap-2">
 {% if top1.cast.twitter_url %}
 <a href="{{ top1.cast.twitter_url }}" target="_blank" class="btn btn-secondary" style="flex: 1;">
 ğ• Twitter
 </a>
 {% endif %}
 {% if top1.cast.instagram_url %}
 <a href="{{ top1.cast.instagram_url }}" target="_blank" class="btn btn-secondary" style="flex: 1;">
 Instagram
 </a>
 {% endif %}
 </div>
 </div>
 {% endif %}
 
 <!-- åº—èˆ—ãƒªãƒ³ã‚¯ -->
 {% if top1.cast.shop %}
 <a href="{{ url_for('public.shop_detail', shop_id=top1.cast.shop_id) }}" class="btn btn-primary" style="width: 100%;">
 {{ top1.cast.shop.name }} ã‚’è¦‹ã‚‹
 </a>
 {% endif %}
 
 </div>
</div>
{% endblock %}
