{# Shop Card Partial - expects 'shop' variable, optional 'badge' for ad badge info #}
<a href="{{ url_for('public.shop_detail', shop_id=shop.id) }}" class="shop-card {{ 'has-badge' if badge }} {{ 'badge-' + badge.type if badge }}" data-shop-id="{{ shop.id }}">
 {# バッジ表示（広告権利ベース） #}
 {% if badge %}
 <div class="shop-card-top-badge badge-{{ badge.color }}">
 {% if badge.type == 'top1' %}{% elif badge.type in ['top2', 'top3', 'top10'] %}{% endif %}
 {{ badge.label }}
 </div>
 {% endif %}
 
 {% if shop.main_image_url %}
 <img src="{{ shop.main_image_url }}" alt="{{ shop.name }}" class="shop-card-image">
 {% else %}
 <div class="shop-card-image shop-card-placeholder">
 <span></span>
 </div>
 {% endif %}
 
 <div class="shop-card-body">
 <div class="shop-card-header">
 <div>
 <h3 class="shop-card-name">{{ shop.name }}</h3>
 <span class="shop-card-area"> {{ shop.area }}</span>
 {% if shop.category_label %}
 <span class="shop-card-category">{{ shop.category_label }}</span>
 {% endif %}
 </div>
 <span class="vacancy-badge vacancy-{{ vacancy_colors.get(shop.current_vacancy, 'secondary') }}">
 {{ vacancy_labels.get(shop.current_vacancy, '−') }}
 </span>
 </div>
 
 <div class="shop-card-info">
 {% if shop.business_hours %}
 <span> {{ shop.business_hours }}</span>
 {% endif %}
 {% if shop.price_range %}
 <span> {{ shop.price_range }}</span>
 {% endif %}
 </div>
 
 <div class="shop-card-badges">
 {% if shop.is_featured %}
 <span class="badge badge-warning">おすすめ</span>
 {% endif %}
 
 {% if is_premium %}
 <span class="badge badge-premium">優良店</span>
 {% endif %}
 
 {% if shop.active_job %}
 <span class="badge badge-danger">求人あり</span>
 {% endif %}
 </div>
 </div>
</a>

<style>
.shop-card {
 position: relative;
}
.shop-card.has-badge {
 border: 2px solid transparent;
}
.shop-card.badge-gold {
 border-color: #ffd700;
 box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
}
.shop-card.badge-silver {
 border-color: #c0c0c0;
 box-shadow: 0 0 10px rgba(192, 192, 192, 0.2);
}
.shop-card.badge-bronze {
 border-color: #cd7f32;
 box-shadow: 0 0 10px rgba(205, 127, 50, 0.2);
}

/* 優良店カード - ゴールドキラキラ枠 */
.shop-card.badge-premium {
 border: 2px solid #ffd700;
 box-shadow:
   0 0 8px rgba(255, 215, 0, 0.4),
   0 0 20px rgba(255, 215, 0, 0.15),
   inset 0 0 8px rgba(255, 215, 0, 0.05);
 animation: premium-glow 3s ease-in-out infinite alternate;
}

@keyframes premium-glow {
 0% {
   box-shadow:
     0 0 8px rgba(255, 215, 0, 0.4),
     0 0 20px rgba(255, 215, 0, 0.15);
 }
 100% {
   box-shadow:
     0 0 12px rgba(255, 215, 0, 0.6),
     0 0 30px rgba(255, 215, 0, 0.25);
 }
}

.shop-card-top-badge {
 position: absolute;
 top: -8px;
 left: 50%;
 transform: translateX(-50%);
 padding: 0.25rem 0.75rem;
 border-radius: 1rem;
 font-size: 0.75rem;
 font-weight: 700;
 z-index: 10;
 white-space: nowrap;
 box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.shop-card-top-badge.badge-gold {
 background: linear-gradient(135deg, #ffd700, #ff8c00);
 color: #000;
}
.shop-card-top-badge.badge-silver {
 background: linear-gradient(135deg, #e0e0e0, #a0a0a0);
 color: #000;
}
.shop-card-top-badge.badge-bronze {
 background: linear-gradient(135deg, #cd7f32, #8b4513);
 color: #fff;
}
/* 優良店トップバッジ - ゴールド */
.shop-card-top-badge.badge-premium {
 background: linear-gradient(135deg, #ffd700 0%, #ffb800 50%, #ffa000 100%);
 color: #1a0a25;
 text-shadow: 0 0 4px rgba(255, 255, 255, 0.5);
}

.shop-card-badges {
 display: flex;
 flex-wrap: wrap;
 gap: 0.25rem;
 margin-top: 0.5rem;
}

/* 優良店バッジ（カード内テキスト） - ゴールド */
.badge-premium {
 background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);
 color: #1a0a25;
 font-size: 0.7rem;
 padding: 0.15rem 0.5rem;
 border-radius: 0.75rem;
 font-weight: 700;
 text-shadow: 0 0 2px rgba(255, 255, 255, 0.3);
 box-shadow: 0 0 6px rgba(255, 215, 0, 0.4);
}
</style>
