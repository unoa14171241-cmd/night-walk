{% extends "customer/base.html" %}

{% block title %}åº—èˆ—ä¸€è¦§ - Night-Walk{% endblock %}

{% block content %}
<div class="container">
    <!-- Hero Section -->
    <div class="text-center mb-4">
        <h1>å²¡å±±ãƒ»å€‰æ•·ã®<span class="text-primary">ãƒŠã‚¤ãƒˆã‚¹ãƒãƒƒãƒˆ</span></h1>
        <p class="text-muted">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®ç©ºå¸­çŠ¶æ³ã‚’ãƒã‚§ãƒƒã‚¯</p>
    </div>
    
    <!-- Area Filter -->
    <div class="area-filter">
        <a href="{{ url_for('public.shops') }}" class="{% if not selected_area %}active{% endif %}">
            ã™ã¹ã¦
        </a>
        {% for area in areas %}
        <a href="{{ url_for('public.shops', area=area) }}" class="{% if selected_area == area %}active{% endif %}">
            {{ area }}
        </a>
        {% endfor %}
    </div>
    
    <!-- Shop Grid -->
    {% if shops %}
    <div class="shop-grid">
        {% for shop in shops %}
        <a href="{{ url_for('public.shop_detail', shop_id=shop.id) }}" class="shop-card" data-shop-id="{{ shop.id }}">
            {% if shop.image_url %}
            <img src="{{ shop.image_url }}" alt="{{ shop.name }}" class="shop-card-image">
            {% else %}
            <div class="shop-card-image" style="display: flex; align-items: center; justify-content: center; font-size: 3rem;">
                ğŸŒ™
            </div>
            {% endif %}
            
            <div class="shop-card-body">
                <div class="shop-card-header">
                    <div>
                        <h3 class="shop-card-name">{{ shop.name }}</h3>
                        <span class="shop-card-area">ğŸ“ {{ shop.area }}</span>
                    </div>
                    <span class="vacancy-badge vacancy-{{ vacancy_colors.get(shop.current_vacancy, 'secondary') }}">
                        {{ vacancy_labels.get(shop.current_vacancy, 'âˆ’') }}
                    </span>
                </div>
                
                <div class="shop-card-info">
                    {% if shop.business_hours %}
                    <span>ğŸ• {{ shop.business_hours }}</span>
                    {% endif %}
                    {% if shop.price_range %}
                    <span>ğŸ’° {{ shop.price_range }}</span>
                    {% endif %}
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="card text-center">
        <p class="text-muted mb-2">ç¾åœ¨å…¬é–‹ä¸­ã®åº—èˆ—ãŒã‚ã‚Šã¾ã›ã‚“</p>
        <p class="text-muted" style="font-size: 0.875rem;">åº—èˆ—ãŒè¿½åŠ ã•ã‚Œã‚‹ã¾ã§ãŠå¾…ã¡ãã ã•ã„</p>
    </div>
    {% endif %}
</div>
{% endblock %}
