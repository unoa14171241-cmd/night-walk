{% extends "customer/base.html" %}

{% block title %}店舗一覧 - Night-Walk{% endblock %}

{% block content %}
<div class="container">
 <!-- Hero Section -->
 <div class="text-center mb-4">
 <h1>岡山倉敷の<span class="text-primary">ナイトスポット</span></h1>
 <p class="text-muted">リアルタイムの空席状況をチェック</p>
 </div>
 
 <!-- Area Filter -->
 <div class="area-filter">
 <a href="{{ url_for('public.shops') }}" class="{% if not selected_area %}active{% endif %}">
 すべて
 </a>
 {% for area in areas %}
 <a href="{{ url_for('public.shops', area=area) }}" class="{% if selected_area == area %}active{% endif %}">
 {{ area }}
 </a>
 {% endfor %}
 </div>
 
 <!-- Shop Grid -->
 {% if shops %}
 <div class="shop-grid">
 {% for shop in shops %}
 <a href="{{ url_for('public.shop_detail', shop_id=shop.id) }}" class="shop-card" data-shop-id="{{ shop.id }}">
 {% if shop.image_url %}
 <img src="{{ shop.image_url }}" alt="{{ shop.name }}" class="shop-card-image" loading="lazy">
 {% else %}
 <div class="shop-card-image" style="display: flex; align-items: center; justify-content: center; font-size: 3rem;">
 
 </div>
 {% endif %}
 
 <div class="shop-card-body">
 <div class="shop-card-header">
 <div>
 <h3 class="shop-card-name">{{ shop.name }}</h3>
 <span class="shop-card-area"> {{ shop.area }}</span>
 </div>
 <span class="vacancy-badge vacancy-{{ vacancy_colors.get(shop.current_vacancy, 'secondary') }}">
 {{ vacancy_labels.get(shop.current_vacancy, '−') }}
 </span>
 </div>
 
 <div class="shop-card-info">
{% if shop.public_business_hours %}
<span> {{ shop.public_business_hours }}</span>
 {% endif %}
 {% if shop.price_range %}
 <span> {{ shop.price_range }}</span>
 {% endif %}
 </div>
 </div>
 </a>
 {% endfor %}
 </div>
 {% else %}
 <div class="card text-center">
 <p class="text-muted mb-2">現在公開中の店舗がありません</p>
 <p class="text-muted" style="font-size: 0.875rem;">店舗が追加されるまでお待ちください</p>
 </div>
 {% endif %}
</div>
{% endblock %}
